<head th:replace="~{fragments :: head(adminIndex)}">
    <title>Cupcakes</title>
</head>
<header th:replace="~{fragments :: header}"></header>

<body onload="fetch('/get_order_id', { method: 'GET' });">
<main>
    <h1 id="title">Vælg Cupcake</h1>
    <div class="product_form">
    <form class="save_cupcake_form" th:action="@{/product-page}" method="POST">
        <section class="product_content">
            <div class="green_box">
                <img src="/images/1Icing.png" id="icingImage" alt="Icing" class="product_img" />
            </div>
            <select id="icingSelect" class="dropdown_menu" name="icing_id" required>
                <option disabled selected value>Vælg Icing</option>
                <option th:each="icing : ${icing_options}" th:value="${icing.icingId}"
                        th:text="${icing.icingName + ' ' + icing.icingPrice} + ' DKK'"
                        th:data-image="@{'/images/' + ${icing.icingId} + 'Icing.png' }">
                </option>
            </select>
        </section>
        <section class="product_content">
            <div class="green_box">
                <img src="/images/1Bottom.png" id="bottomImage" alt="Bund" class="product_img" />
            </div>
            <select id="bottomSelect" class="dropdown_menu" name="bottom_id" required>
                <option disabled selected value>Vælg Bund</option>
                <option th:each="bottom : ${bottom_options}" th:value="${bottom.bottomId}"
                        th:text="${bottom.bottomName + ' ' + bottom.bottomPrice} + ' DKK'"
                        th:data-image="@{'/images/' + ${bottom.bottomId} + 'Bottom.png' }">
                </option>
            </select>
        </section>

        <div class="product_page_actions">
            <button class="product_page_button" type="submit">Tilføj til kurv</button>
            <a th:href="@{/cart}" class="product_page_button">
                <button class="product_page_cart" type="button">
                    <svg width="27" height="26" viewBox="0 0 27 26" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path
                                d="M1.719 4.05125e-08C1.45378 0.037263 1.21423 0.178357 1.05304 0.392242C0.891854 0.606127 0.822233 0.875283 0.859496 1.1405C0.896759 1.40572 1.03785 1.64527 1.25174 1.80646C1.46562 1.96764 1.73478 2.03726 2 2H5.469C6.043 2 6.226 2.115 6.375 2.25C6.524 2.385 6.71 2.657 6.875 3.219L11.563 19.156C11.5714 19.1878 11.5815 19.2192 11.593 19.25C11.593 19.25 12.704 22 15.5 22H23.344C23.6092 22 23.8636 21.8946 24.0511 21.7071C24.2386 21.5196 24.344 21.2652 24.344 21C24.344 20.7348 24.2386 20.4804 24.0511 20.2929C23.8636 20.1054 23.6092 20 23.344 20H15.5C14.025 20 13.437 18.5 13.437 18.5L13.281 18H21.406C22.436 18 22.902 17.136 23 16.812L26.594 9.094C27.15 7.76 26.859 6 24.812 6H10.312C10.146 6 9.961 6.042 9.782 6.094C9.422 4.871 8.854 2.904 8.782 2.656C8.572 1.943 8.292 1.269 7.719 0.75C7.146 0.231 6.349 4.05125e-08 5.469 4.05125e-08H2C1.96868 -0.00147344 1.93731 -0.00147344 1.906 4.05125e-08C1.87468 -0.00147344 1.84331 -0.00147344 1.812 4.05125e-08C1.78135 -0.00141137 1.75065 -0.00141137 1.72 4.05125e-08H1.719ZM10.625 8.063H14.844V9.843H11.188L10.718 8.343C10.686 8.233 10.638 8.139 10.625 8.063ZM16.156 8.063H18.844V9.843H16.156V8.063ZM20.156 8.063H24.781C24.7687 8.13778 24.7479 8.21092 24.719 8.281L24 9.844H20.156V8.063ZM11.594 11.156H14.844V12.844H12.125L11.594 11.156ZM16.156 11.156H18.844V12.844H16.156V11.156ZM20.156 11.156H23.375L22.594 12.844H20.156V11.156ZM12.531 14.156H14.844V15.937H13.188C13.148 15.937 13.126 15.924 13.094 15.907L12.531 14.156ZM16.156 14.156H18.844V15.937H16.156V14.156ZM20.156 14.156H22L21.156 15.937H20.156V14.156ZM15 22.187C14.5193 22.187 14.0583 22.378 13.7184 22.7179C13.3785 23.0578 13.1875 23.5188 13.1875 23.9995C13.1875 24.4802 13.3785 24.9412 13.7184 25.2811C14.0583 25.621 14.5193 25.812 15 25.812C15.4807 25.812 15.9417 25.621 16.2816 25.2811C16.6215 24.9412 16.8125 24.4802 16.8125 23.9995C16.8125 23.5188 16.6215 23.0578 16.2816 22.7179C15.9417 22.378 15.4807 22.187 15 22.187ZM21 22.187C20.5193 22.187 20.0583 22.378 19.7184 22.7179C19.3785 23.0578 19.1875 23.5188 19.1875 23.9995C19.1875 24.4802 19.3785 24.9412 19.7184 25.2811C20.0583 25.621 20.5193 25.812 21 25.812C21.4807 25.812 21.9417 25.621 22.2816 25.2811C22.6215 24.9412 22.8125 24.4802 22.8125 23.9995C22.8125 23.5188 22.6215 23.0578 22.2816 22.7179C21.9417 22.378 21.4807 22.187 21 22.187Z"
                                fill="#C6E3BE" />
                    </svg>
                </button>
            </a>
        </div>
        <p th:if="${session.add_to_cart_message}" th:text="${session.add_to_cart_message}"></p>
        <form class="cupcake_amount" method="post">
            <section class="product_content-counter">
                <div class="green_box_counter">
                    <button class="counter_button" type="button" onclick="decreaseOne()">-</button>
                    <input type="number" min="1" max="100" id="counter_number" name="amount" value="1" required />
                    <button class="counter_button" type="button" onclick="increaseOne()">+</button>
                </div>
            </section>
        </form>
    </form>
    <div class="product_preview">
        <h2>Se din cupcake!</h2>
        <div class="cupcake_preview">
            <img id="preview_bottom" src="/images/1Bottom.png" alt="Bund" />

            <img id="preview_icing" src="/images/1Icing.png" alt="Icing" />
        </div>
    </div>
    </div>
</main>
<footer th:replace="fragments :: footer"></footer>
<script src="/js/script.js"></script>
</body>