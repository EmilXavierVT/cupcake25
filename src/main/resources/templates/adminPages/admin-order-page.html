<!DOCTYPE html>
<html lang="da" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Admin - Ordre</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" th:href="@{/css/styles.css}">
</head>
<body>
<header>
    <div class="nav_container">
        <a th:href="@{/}">
            <svg width="33" height="33" viewBox="0 0 33 33" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M6.875 26.125V14.1735C6.875 13.8215 6.95383 13.4883 7.1115 13.1739C7.26917 12.8595 7.48642 12.6005 7.76325 12.397L15.1676 6.78975C15.5554 6.49367 15.9981 6.34562 16.4959 6.34562C16.9936 6.34562 17.4391 6.49367 17.8324 6.78975L25.2367 12.3956C25.5145 12.5991 25.7317 12.8585 25.8885 13.1739C26.0462 13.4883 26.125 13.8215 26.125 14.1735V26.125C26.125 26.4935 25.988 26.8148 25.7139 27.0889C25.4398 27.363 25.1185 27.5 24.75 27.5H20.097C19.7817 27.5 19.5177 27.3937 19.305 27.181C19.0923 26.9674 18.986 26.7034 18.986 26.389V19.8316C18.986 19.5172 18.8797 19.2537 18.667 19.041C18.4534 18.8274 18.1894 18.7206 17.875 18.7206H15.125C14.8106 18.7206 14.547 18.8274 14.3344 19.041C14.1208 19.2537 14.014 19.5172 14.014 19.8316V26.3904C14.014 26.7048 13.9077 26.9683 13.695 27.181C13.4823 27.3937 13.2188 27.5 12.9044 27.5H8.25C7.8815 27.5 7.56021 27.363 7.28612 27.0889C7.01204 26.8148 6.875 26.4935 6.875 26.125Z"
                      fill="#5B405F"/>
            </svg>
        </a>

        <a th:href="@{/product-page}">
            <img th:src="@{/images/cupcakes-logo.png}" alt="Cupcake" class="cupcake_logo"/>
        </a>

        <nav>
            <ul>
                <li><a th:href="@{/}">Hjem</a></li>
                <li><a th:href="@{/about}">Om os</a></li>
                <li th:if="${admin == true}"><a th:href="@{/adminIndex}">Admin</a></li>
                <li th:if="${session.currentUser != null}"><a th:href="@{/profile-page}"
                    th:text="${session.currentUser.email !=null ? session.currentUser.email : 'Profil'}"></a>
                </li>
                <li th:if="${session.currentUser != null}"><a th:href="@{/logout}">Logout</a></li>
            </ul>
        </nav>

        <a th:href="@{/cart}">
            <svg width="27" height="26" viewBox="0 0 27 26" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M1.719 4.05125e-08C1.45378 0.037263 1.21423 0.178357 1.05304 0.392242C0.891854 0.606127 0.822233 0.875283 0.859496 1.1405C0.896759 1.40572 1.03785 1.64527 1.25174 1.80646C1.46562 1.96764 1.73478 2.03726 2 2H5.469C6.043 2 6.226 2.115 6.375 2.25C6.524 2.385 6.71 2.657 6.875 3.219L11.563 19.156C11.5714 19.1878 11.5815 19.2192 11.593 19.25C11.593 19.25 12.704 22 15.5 22H23.344C23.6092 22 23.8636 21.8946 24.0511 21.7071C24.2386 21.5196 24.344 21.2652 24.344 21C24.344 20.7348 24.2386 20.4804 24.0511 20.2929C23.8636 20.1054 23.6092 20 23.344 20H15.5C14.025 20 13.437 18.5 13.437 18.5L13.281 18H21.406C22.436 18 22.902 17.136 23 16.812L26.594 9.094C27.15 7.76 26.859 6 24.812 6H10.312C10.146 6 9.961 6.042 9.782 6.094C9.422 4.871 8.854 2.904 8.782 2.656C8.572 1.943 8.292 1.269 7.719 0.75C7.146 0.231 6.349 4.05125e-08 5.469 4.05125e-08H2C1.96868 -0.00147344 1.93731 -0.00147344 1.906 4.05125e-08C1.87468 -0.00147344 1.84331 -0.00147344 1.812 4.05125e-08C1.78135 -0.00141137 1.75065 -0.00141137 1.72 4.05125e-08H1.719ZM10.625 8.063H14.844V9.843H11.188L10.718 8.343C10.686 8.233 10.638 8.139 10.625 8.063ZM16.156 8.063H18.844V9.843H16.156V8.063ZM20.156 8.063H24.781C24.7687 8.13778 24.7479 8.21092 24.719 8.281L24 9.844H20.156V8.063ZM11.594 11.156H14.844V12.844H12.125L11.594 11.156ZM16.156 11.156H18.844V12.844H16.156V11.156ZM20.156 11.156H23.375L22.594 12.844H20.156V11.156ZM12.531 14.156H14.844V15.937H13.188C13.148 15.937 13.126 15.924 13.094 15.907L12.531 14.156ZM16.156 14.156H18.844V15.937H16.156V14.156ZM20.156 14.156H22L21.156 15.937H20.156V14.156ZM15 22.187C14.5193 22.187 14.0583 22.378 13.7184 22.7179C13.3785 23.0578 13.1875 23.5188 13.1875 23.9995C13.1875 24.4802 13.3785 24.9412 13.7184 25.2811C14.0583 25.621 14.5193 25.812 15 25.812C15.4807 25.812 15.9417 25.621 16.2816 25.2811C16.6215 24.9412 16.8125 24.4802 16.8125 23.9995C16.8125 23.5188 16.6215 23.0578 16.2816 22.7179C15.9417 22.378 15.4807 22.187 15 22.187ZM21 22.187C20.5193 22.187 20.0583 22.378 19.7184 22.7179C19.3785 23.0578 19.1875 23.5188 19.1875 23.9995C19.1875 24.4802 19.3785 24.9412 19.7184 25.2811C20.0583 25.621 20.5193 25.812 21 25.812C21.4807 25.812 21.9417 25.621 22.2816 25.2811C22.6215 24.9412 22.8125 24.4802 22.8125 23.9995C22.8125 23.5188 22.6215 23.0578 22.2816 22.7179C21.9417 22.378 21.4807 22.187 21 22.187Z"
                      fill="#5B405F"/>
            </svg>
        </a>
    </div>
</header>

<main>
    <div class="page_body">
        <div class="header_box">
            <h1 id="title_admin_page">VIS ORDRE</h1>
        </div>
        <input class="search_input customer_search" type="text" placeholder="Søg Kunde"/>

        <div class="view_list">
            <ul class="card_list list_rows">
                <li th:each="order : ${all_orders}">

                    #<span th:text="${order.orderId}"></span> -
                    <span th:text=" ${order.date}"></span>
                    <span th:text="${order.appliedDiscount}"></span>
                    <span> E-mail: </span>
                    <span th:text=" ${order.user.email } "></span>
                    <br/>
                    <span>  -  </span>
                    <span th:each="cupcakeInOrder : ${order.cupcakesInOrder}">
                                <span th:text="${cupcakeInOrder.udc.bottom.bottomName}"></span>
                                <span>  +  </span>
                                <span th:text="${cupcakeInOrder.udc.icing.icingName}"></span>
                                     <span>  Antal:   </span>
                                <span th:text="${cupcakeInOrder.amount}"></span>
                        <br/>
                        </span>
                    <form th:action="@{/delete_order}" method="post" style="display:inline;">
                        <input type="hidden" name="order_id" th:value="${order.orderId}" />
                        <button type="submit" class="close-btn" title="X">&#10005;</button>
                    </form>
                </li>
            </ul>
        </div>

        <a th:href="@{/admin-customer-page}">
            <button class="see_order_button">Vis Kunder</button>
        </a>

    </div>
</main>

<footer>
    <p>
        &copy; 2025 Icy Cupcakes <br/>
        Bornholm Pederskervejen 17 ???? Nexø <br/>
        Telefon: +45 18131123
    </p>
</footer>
</body>
</html>